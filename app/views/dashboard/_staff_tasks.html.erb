<div class="staff-tasks">
  <h2>Nursing Task Priorities</h2>
  
  <% if @nurses && @nurses.any? %>
    <% @nurses.each do |nurse_name, nurse_data| %>
      <div class="nurse-task-card">
        <div class="nurse-header">
          <h3><%= nurse_name %></h3>
          <div class="task-summary">
            <span class="task-count"><%= nurse_data[:tasks].count %> tasks</span>
            <span class="total-time"><%= nurse_data[:total_time] %> min</span>
          </div>
        </div>
        
        <div class="task-list">
          <% nurse_data[:tasks].each do |task| %>
            <div class="task-item <%= task.overdue? ? 'overdue' : '' %> <%= task.priority_class %>">
              <div class="task-location">
                <%= task.task_type_room_assignment? ? task.patient.location_status.humanize : task.room_number %>
              </div>
              <div class="task-description">
                <%= task.description %>
              </div>
              <div class="task-time">
                <% if task.overdue? %>
                  <span class="overdue-time"><%= task.minutes_overdue %> minutes Overdue</span>
                <% else %>
                  <span class="remaining-time"><%= task.time_remaining %> min</span>
                <% end %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  <% else %>
    <div class="empty-state">
      <p>No pending nursing tasks</p>
    </div>
  <% end %>
</div>